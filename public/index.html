<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Midnight TERMINAL // V2.0</title>
    <link rel="shortcut icon" href="/assets/images/logo.png" />

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500;700;900&family=Rajdhani:wght@400;500;600&family=Space+Grotesk:wght@400;700&display=swap" rel="stylesheet">

    <!-- IMPORT CORE -->
    <script type="module" src="midnight-core.js"></script>

    <style>
        :root { --bg-color: #030508; --accent-primary: #00f3ff; --accent-secondary: #bc13fe; --text-main: #e0f7fa; --text-muted: #627c85; }
        * { box-sizing: border-box; }
        body { margin: 0; height: 100vh; overflow: hidden; font-family: 'Rajdhani', sans-serif; background-color: var(--bg-color); color: var(--text-main); display: flex; flex-direction: column; }
        
        .app-container { display: flex; flex-direction: column; height: 100%; transition: filter 0.3s; }
        body.logged-out .app-container { filter: blur(8px) brightness(0.4); pointer-events: none; }

        #starfield { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -2; }
        .scanlines { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: repeating-linear-gradient(0deg, rgba(0, 0, 0, 0.15), rgba(0, 0, 0, 0.15) 1px, transparent 1px, transparent 2px); pointer-events: none; z-index: -1; }
        .vignette { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: radial-gradient(circle, transparent 50%, #000000 150%); pointer-events: none; z-index: -1; }

        .topbar { height: 70px; display: flex; align-items: center; justify-content: space-between; padding: 0 40px; background: rgba(5, 8, 16, 0.8); border-bottom: 1px solid rgba(0, 243, 255, 0.2); backdrop-filter: blur(10px); }
        .brand { font-family: "Orbitron"; font-weight: 900; font-size: 20px; color: var(--accent-primary); text-decoration: none; padding-left: 15px; position: relative; }
        .brand::before { content: ''; position: absolute; left: 0; top: 50%; transform: translateY(-50%); width: 6px; height: 6px; background: var(--accent-secondary); box-shadow: 0 0 8px var(--accent-secondary); }
        .nav { display: flex; gap: 4px; }
        .nav-link { font-size: 16px; font-weight: 600; color: var(--text-muted); text-decoration: none; padding: 8px 16px; text-transform: uppercase; letter-spacing: 1px; transition: all 0.3s ease; display: flex; align-items: center; position: relative; }
        .nav-link:hover, .nav-link.active { color: var(--text-main); background: rgba(0, 243, 255, 0.05); }
        .nav-link::after { content: ''; position: absolute; bottom: 0; left: 0; width: 0%; height: 2px; background: var(--accent-primary); transition: width 0.3s ease; }
        .nav-link:hover::after, .nav-link.active::after { width: 100%; }

        .center-stage { flex: 1; display: flex; align-items: center; justify-content: center; }
        .glass-panel { width: min(700px, 90vw); padding: 60px 40px; background: linear-gradient(135deg, rgba(255, 255, 255, 0.03), rgba(255, 255, 255, 0.01)); border: 1px solid rgba(0, 243, 255, 0.15); backdrop-filter: blur(12px); border-radius: 4px; position: relative; text-align: center; }
        .glass-panel::before { content: ''; position: absolute; width: 20px; height: 20px; border-top: 2px solid var(--accent-primary); border-left: 2px solid var(--accent-primary); top: -2px; left: -2px; }
        .glass-panel::after { content: ''; position: absolute; width: 20px; height: 20px; border-top: 2px solid var(--accent-primary); border-right: 2px solid var(--accent-primary); top: -2px; right: -2px; }
        
        h1 { font-family: "Orbitron"; font-size: clamp(40px, 8vw, 70px); margin: 0 0 40px; letter-spacing: 4px; color: #fff; }
        .search { width: 100%; height: 60px; background: rgba(0, 0, 0, 0.4); border: 1px solid var(--text-muted); color: var(--accent-primary); font-family: 'Space Grotesk'; font-size: 18px; padding: 0 24px; outline: none; }
        footer { height: 50px; display: flex; align-items: center; justify-content: center; font-size: 12px; color: var(--text-muted); text-transform: uppercase; letter-spacing: 2px; background: rgba(0,0,0,0.8); }
    </style>
</head>

<body class="logged-out">
    <canvas id="starfield"></canvas>
    <div class="scanlines"></div>
    <div class="vignette"></div>

    <div class="app-container">
        <div class="topbar">
            <a href="index.html" class="brand">Midnight</a>
            <nav class="nav">
                <a href="index.html" class="nav-link active">Home</a>
                <a href="b.html" class="nav-link">Browser</a>
                <a href="g.html" class="nav-link">Games</a>
                <a href="apps.html" class="nav-link">Apps</a>
                <a href="chat.html" class="nav-link">Chat</a>
                <a href="shows.html" class="nav-link">Tv Shows</a>
                <a href="movies.html" class="nav-link">Movies</a>
                <a href="music.html" class="nav-link">Music</a>
                <a href="settings.html" class="nav-link">Settings</a>
            </nav>
        </div>

        <div class="center-stage">
            <div class="glass-panel" id="tiltPanel">
                <h1 data-text="MIDNIGHT">MIDNIGHT</h1>
                <input class="search" id="mainSearch" placeholder="Initiate Search Protocol..." onkeydown="if(event.key==='Enter'){location.href='b.html'}" />
            </div>
        </div>

        <footer>System Online // Powered by Scramjet</footer>
    </div>

    <script>
        const canvas = document.getElementById('starfield');
        const ctx = canvas.getContext('2d');
        let width, height, stars = [];
        function resize() { width = window.innerWidth; height = window.innerHeight; canvas.width = width; canvas.height = height; }
        window.addEventListener('resize', resize); resize();
        class Star { constructor() { this.init(); } init() { this.x = (Math.random()-0.5)*width*2; this.y = (Math.random()-0.5)*height*2; this.z = Math.random()*width; } update() { this.z -= 2; if(this.z <= 0) this.init(); } draw() { const sx = (this.x/this.z)*width + width/2; const sy = (this.y/this.z)*height + height/2; const r = (1-this.z/width)*3; ctx.beginPath(); ctx.arc(sx, sy, Math.max(0,r), 0, Math.PI*2); ctx.fillStyle = '#00f3ff'; ctx.fill(); } }
        for(let i=0; i<150; i++) stars.push(new Star());
        function animate() { ctx.fillStyle = 'rgba(3,5,8,0.4)'; ctx.fillRect(0,0,width,height); stars.forEach(s => { s.update(); s.draw(); }); requestAnimationFrame(animate); }
        animate();
    </script>
</body>
</html>