<!doctype html>
<html lang="en">

<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no" />
	<title>Midnight BR0WSER</title>

	<link rel="shortcut icon" href="favicon.webp" />
	<link rel="stylesheet" href="index.css" />

	<!-- Fonts: Orbitron, Rajdhani, Space Grotesk -->
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link
		href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500;700;900&family=Rajdhani:wght@400;500;600&family=Space+Grotesk:wght@400;700&display=swap"
		rel="stylesheet">

	<script src="/scram/scramjet.all.js"></script>
	<script src="baremux/index.js" defer></script>
	<script src="epoxy/index.js" defer></script>
	<script src="register-sw.js" defer></script>
	<script src="search.js" defer></script>
	<script src="index.js" defer></script>

	<style>
		:root {
			--bg-color: #030508;
			--panel-color: rgba(10, 15, 30, 0.65);
			--accent-primary: #00f3ff;
			--accent-secondary: #bc13fe;
			--text-main: #e0f7fa;
			--text-muted: #627c85;
			--border-glow: 0 0 10px rgba(0, 243, 255, 0.3);
		}

		* {
			box-sizing: border-box;
		}

		body {
			margin: 0;
			height: 100vh;
			background-color: var(--bg-color);
			color: var(--text-main);
			font-family: 'Rajdhani', sans-serif;
			overflow: hidden;
		}

		/* Background Effects */
		#starfield {
			position: fixed;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			z-index: -2;
		}

		.scanlines {
			position: fixed;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			background: repeating-linear-gradient(0deg, rgba(0, 0, 0, 0.15), rgba(0, 0, 0, 0.15) 1px, transparent 1px, transparent 2px);
			pointer-events: none;
			z-index: -1;
		}

		.vignette {
			position: fixed;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			background: radial-gradient(circle, transparent 50%, #000000 150%);
			pointer-events: none;
			z-index: -1;
		}

		.app {
			display: flex;
			flex-direction: column;
			height: 100%;
			position: relative;
			z-index: 1;
		}

		/* Global Navigation (Top) */
		.topbar {
			height: 70px;
			display: flex;
			align-items: center;
			justify-content: space-between;
			padding: 0 40px;
			background: rgba(5, 8, 16, 0.8);
			border-bottom: 1px solid rgba(0, 243, 255, 0.2);
			backdrop-filter: blur(10px);
			box-shadow: 0 4px 30px rgba(0, 0, 0, 0.5);
		}

		.brand {
			font-family: "Orbitron", sans-serif;
			font-weight: 700;
			font-size: 18px;
			letter-spacing: 1px;
			color: var(--accent-primary);
			text-decoration: none;
			text-transform: uppercase;
			text-shadow: 0 0 8px rgba(0, 243, 255, 0.5);
		}

		.nav {
			display: flex;
			gap: 4px;
		}

		.nav-link {
			position: relative;
			font-size: 16px;
			font-weight: 600;
			color: var(--text-muted);
			text-decoration: none;
			padding: 8px 16px;
			text-transform: uppercase;
			letter-spacing: 1px;
			transition: all 0.3s ease;
			overflow: hidden;
		}

		.nav-link:hover, .nav-link.active {
			color: var(--text-main);
			background: rgba(0, 243, 255, 0.05);
			text-shadow: 0 0 8px rgba(255, 255, 255, 0.5);
		}

		/* Futuristic Underline Animation */
		.nav-link::after {
			content: '';
			position: absolute;
			bottom: 0;
			left: 0;
			width: 0%;
			height: 2px;
			background: var(--accent-primary);
			transition: width 0.3s ease;
			box-shadow: 0 0 10px var(--accent-primary);
		}

		.nav-link:hover::after, .nav-link.active::after {
			width: 100%;
		}

		/* Browser Controls (Address Bar row) */
		.browser-controls {
			padding: 10px 15px;
			background: rgba(10, 15, 30, 0.6);
			border-bottom: 1px solid rgba(255, 255, 255, 0.05);
			display: flex;
			gap: 10px;
			align-items: center;
		}

		.navbtns {
			display: flex;
			gap: 5px;
		}

		.navbtn {
			width: 36px;
			height: 36px;
			display: grid;
			place-items: center;
			background: rgba(0, 243, 255, 0.05);
			border: 1px solid rgba(0, 243, 255, 0.2);
			color: var(--accent-primary);
			border-radius: 4px;
			cursor: pointer;
			transition: all 0.2s;
			font-family: 'Rajdhani', sans-serif;
			font-size: 18px;
		}

		.navbtn:hover {
			background: rgba(0, 243, 255, 0.15);
			box-shadow: 0 0 10px rgba(0, 243, 255, 0.2);
		}

		#sj-form {
			flex: 1;
			display: flex;
		}

		#sj-address {
			width: 100%;
			height: 36px;
			background: rgba(0, 0, 0, 0.5);
			border: 1px solid rgba(255, 255, 255, 0.1);
			color: #fff;
			font-family: 'Space Grotesk', monospace;
			padding: 0 15px;
			border-radius: 4px;
			outline: none;
			transition: all 0.3s;
		}

		#sj-address:focus {
			border-color: var(--accent-primary);
			box-shadow: 0 0 15px rgba(0, 243, 255, 0.15);
		}

		/* Tabs */
		.tabs-bar {
			display: flex;
			align-items: center;
			gap: 5px;
			padding: 0 15px 5px;
			background: rgba(10, 15, 30, 0.6);
			border-bottom: 1px solid rgba(0, 243, 255, 0.15);
			overflow-x: auto;
		}

		.tab {
			display: flex;
			align-items: center;
			gap: 8px;
			padding: 6px 14px;
			background: rgba(255, 255, 255, 0.03);
			border: 1px solid rgba(255, 255, 255, 0.1);
			color: var(--text-muted);
			font-size: 13px;
			cursor: pointer;
			user-select: none;
			min-width: 120px;
			max-width: 200px;
			clip-path: polygon(10px 0, 100% 0, 100% 100%, 0 100%, 0 10px);
			transition: all 0.2s;
		}

		.tab:hover {
			background: rgba(255, 255, 255, 0.08);
		}

		.tab.active {
			background: rgba(0, 243, 255, 0.1);
			border-color: var(--accent-primary);
			color: var(--accent-primary);
			text-shadow: 0 0 5px rgba(0, 243, 255, 0.5);
		}

		.tab .close {
			font-size: 10px;
			margin-left: auto;
			opacity: 0.7;
		}

		.tab .close:hover {
			opacity: 1;
			color: #fff;
		}

		.tab.add {
			min-width: 30px;
			width: 30px;
			padding: 0;
			justify-content: center;
			font-size: 16px;
			color: var(--accent-primary);
		}

		/* Viewport */
		.viewport {
			flex: 1;
			position: relative;
			background: transparent;
		}

		.view {
			position: absolute;
			inset: 0;
			display: none;
		}

		.view.active {
			display: block;
		}

		.frame-host {
			width: 100%;
			height: 100%;
			border: none;
			background: #fff;
		}

		/* New Tab Page (Internal) */
		.newtab {
			position: absolute;
			inset: 0;
			display: flex;
			align-items: center;
			justify-content: center;
			/* Transparent so starfield shows through */
		}

		.nt-card {
			width: min(600px, 90vw);
			padding: 40px;
			background: rgba(10, 15, 30, 0.75);
			border: 1px solid var(--accent-primary);
			backdrop-filter: blur(15px);
			text-align: center;
			position: relative;
			box-shadow: 0 0 30px rgba(0, 0, 0, 0.8);
		}

		.nt-card::before {
			content: '';
			position: absolute;
			top: -2px;
			left: -2px;
			width: 20px;
			height: 20px;
			border-top: 3px solid var(--accent-secondary);
			border-left: 3px solid var(--accent-secondary);
		}

		.nt-card::after {
			content: '';
			position: absolute;
			bottom: -2px;
			right: -2px;
			width: 20px;
			height: 20px;
			border-bottom: 3px solid var(--accent-secondary);
			border-right: 3px solid var(--accent-secondary);
		}

		.nt-card h1 {
			font-family: 'Orbitron', sans-serif;
			color: #fff;
			margin: 0 0 10px;
			letter-spacing: 2px;
			font-size: 32px;
		}

		.nt-card p {
			color: var(--text-muted);
			margin-bottom: 20px;
			line-height: 1.5;
		}

		.nt-info {
			display: inline-block;
			padding: 5px 10px;
			border: 1px solid var(--accent-primary);
			color: var(--accent-primary);
			font-size: 12px;
			text-transform: uppercase;
			letter-spacing: 1px;
			background: rgba(0, 243, 255, 0.1);
		}

		#sj-error,
		#sj-error-code {
			display: none;
		}
	</style>
</head>

<body data-mode="browser">
	<!-- Background -->
	<canvas id="starfield"></canvas>
	<div class="scanlines"></div>
	<div class="vignette"></div>

	<!-- Main App -->
	<div class="app">
		<div class="topbar">
			<a href="index.html" class="brand">Midnight</a>
			<nav class="nav">
				<a href="index.html" class="nav-link">Home</a>
				<a href="b.html" class="nav-link active">Browser</a>
				<a href="g.html" class="nav-link">Games</a>
				<a href="apps.html" class="nav-link">Apps</a>
				<a href="shows.html" class="nav-link">Tv Shows</a>
				<a href="movies.html" class="nav-link">Movies</a>
				<a href="music.html" class="nav-link">Music</a>
				<a href="settings.html" class="nav-link">Settings</a>
			</nav>
		</div>

		<div class="browser-controls">
			<div class="navbtns" aria-label="Navigation controls">
				<button class="navbtn" id="navBack" type="button" title="Back">⟵</button>
				<button class="navbtn" id="navForward" type="button" title="Forward">⟶</button>
				<button class="navbtn" id="navReload" type="button" title="Reload">⟳</button>
			</div>
			<form id="sj-form">
				<input id="sj-search-engine" value="https://www.google.com/search?q=%s" type="hidden" />
				<input id="sj-address" type="text" placeholder="SECURE CONNECTION // ENTER URL OR SEARCH"
					autocomplete="off" />
			</form>
		</div>

		<div class="tabs-bar" id="tabs">
			<div class="tab active" data-id="1">
				<span class="label">NEW SESSION</span>
				<span class="close" title="Close">✕</span>
			</div>
			<div class="tab add" id="addTab" title="New Tab">+</div>
		</div>

		<div class="viewport" id="views">
			<div class="view active" data-id="1">
				<div class="newtab">
					<div class="nt-card">
						<h1>MIDNIGHT BROWSER</h1>
						<p>Secure encrypted connection established. Tabs are isolated in containers.</p>
						<div class="nt-info">SYSTEM READY</div>
					</div>
				</div>
				<div class="frame-host" hidden></div>
			</div>
		</div>

		<p id="sj-error"></p>
		<pre id="sj-error-code"></pre>
	</div>

	<!-- Starfield Script -->
	<script>
		const canvas = document.getElementById('starfield');
		const ctx = canvas.getContext('2d');
		let width, height, stars = [];
		const starCount = 100;

		function resize() {
			width = window.innerWidth; height = window.innerHeight;
			canvas.width = width; canvas.height = height;
		}
		window.addEventListener('resize', resize);
		resize();

		class Star {
			constructor() { this.init(); }
			init() {
				this.x = (Math.random() - 0.5) * width * 2;
				this.y = (Math.random() - 0.5) * height * 2;
				this.z = Math.random() * width;
				this.color = Math.random() > 0.8 ? '#bc13fe' : '#00f3ff';
			}
			update() {
				this.z -= 2;
				if (this.z <= 0) { this.init(); this.z = width; }
			}
			draw() {
				const sx = (this.x / this.z) * width + width / 2;
				const sy = (this.y / this.z) * height + height / 2;
				const r = (1 - this.z / width) * 3;
				ctx.beginPath();
				ctx.arc(sx, sy, Math.max(0, r), 0, Math.PI * 2);
				ctx.fillStyle = this.color;
				ctx.fill();
			}
		}

		for (let i = 0; i < starCount; i++) stars.push(new Star());

		function animate() {
			ctx.fillStyle = 'rgba(3, 5, 8, 0.4)';
			ctx.fillRect(0, 0, width, height);
			stars.forEach(s => { s.update(); s.draw(); });
			requestAnimationFrame(animate);
		}
		animate();
	</script>
</body>

</html>